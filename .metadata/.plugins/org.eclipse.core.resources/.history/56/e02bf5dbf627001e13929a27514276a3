<%@page import="com.klef.ep.services.SeekerService"%>
<%@page import="javax.naming.InitialContext"%>
<%@page import="com.klef.ep.models.Seeker"%>
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"     pageEncoding="ISO-8859-1"%>
    
<%

InitialContext context = new InitialContext();
SeekerService employeeService = (SeekerService) context.lookup("java:global/EPPROJECT/EmployeeServiceImpl!com.klef.ep.services.EmployeeService");

String semail = request.getParameter("semail");
String spassword = request.getParameter("spassword");

Seeker emp = employeeService.SeekerLogin(semail, spassword);

if(emp!=null)
{   
	  //session is an implicit object
	   session.setAttribute("emp", emp);  // emp is a session variable and emp is an object of type Employee class.
	   response.sendRedirect("emphome.jsp"); // will redirect to employee home
}
else
{
	  response.sendRedirect("loginfail.jsp");  // will redirect to login failed page
}



%>